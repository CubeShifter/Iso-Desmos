[gd_scene load_steps=22 format=3 uid="uid://c83bwpiuo5p1a"]

[ext_resource type="Script" path="res://Scripts/boss.gd" id="1_q0c1k"]
[ext_resource type="Texture2D" uid="uid://bwtjnpepes74h" path="res://Asssets/Boss.png" id="2_j8ijp"]
[ext_resource type="Shader" path="res://Scripts/boss.gdshader" id="2_m7n6p"]
[ext_resource type="Texture2D" uid="uid://2x1wou7qx0df" path="res://Asssets/BossDash.png" id="3_c08x5"]
[ext_resource type="Texture2D" uid="uid://cx6ngc714ewsa" path="res://Asssets/Dive.png" id="4_h1a7y"]
[ext_resource type="Texture2D" uid="uid://jjje0d4604ip" path="res://Asssets/Slash.png" id="4_qia70"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mnibt"]
size = Vector2(10, 28)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_61mt2"]
shader = ExtResource("2_m7n6p")
shader_parameter/enabled = false

[sub_resource type="AtlasTexture" id="AtlasTexture_he2ij"]
atlas = ExtResource("3_c08x5")
region = Rect2(0, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_lec51"]
atlas = ExtResource("3_c08x5")
region = Rect2(30, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_svk8b"]
atlas = ExtResource("3_c08x5")
region = Rect2(60, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_ho8hb"]
atlas = ExtResource("3_c08x5")
region = Rect2(90, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_u2vk0"]
atlas = ExtResource("3_c08x5")
region = Rect2(120, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_r1l7o"]
atlas = ExtResource("2_j8ijp")
region = Rect2(0, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_mjmho"]
atlas = ExtResource("4_h1a7y")
region = Rect2(0, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_e7ni4"]
atlas = ExtResource("4_h1a7y")
region = Rect2(30, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_irdw1"]
atlas = ExtResource("4_h1a7y")
region = Rect2(60, 0, 30, 45)

[sub_resource type="AtlasTexture" id="AtlasTexture_xnw4f"]
atlas = ExtResource("4_qia70")
region = Rect2(0, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_lv8c6"]
atlas = ExtResource("4_qia70")
region = Rect2(30, 0, 30, 40)

[sub_resource type="AtlasTexture" id="AtlasTexture_anc2u"]
atlas = ExtResource("4_qia70")
region = Rect2(60, 0, 30, 40)

[sub_resource type="SpriteFrames" id="SpriteFrames_uoe5o"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_he2ij")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lec51")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_svk8b")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_ho8hb")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_u2vk0")
}],
"loop": false,
"name": &"dash",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r1l7o")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_mjmho")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_e7ni4")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_irdw1")
}],
"loop": false,
"name": &"dive",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_xnw4f")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_lv8c6")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_anc2u")
}],
"loop": false,
"name": &"slash",
"speed": 10.0
}]

[node name="boss" type="CharacterBody2D"]
collision_layer = 0
collision_mask = 2
script = ExtResource("1_q0c1k")

[node name="Collision" type="CollisionShape2D" parent="."]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_mnibt")

[node name="Hit Detector" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hit Detector"]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_mnibt")

[node name="Hurtbox" type="Area2D" parent="."]
collision_layer = 8
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Hurtbox"]
position = Vector2(0, 2)
shape = SubResource("RectangleShape2D_mnibt")

[node name="Flash" type="Timer" parent="."]
wait_time = 0.25

[node name="Dive Wait" type="Timer" parent="."]
wait_time = 0.5

[node name="Sprite" type="AnimatedSprite2D" parent="."]
material = SubResource("ShaderMaterial_61mt2")
sprite_frames = SubResource("SpriteFrames_uoe5o")
animation = &"dive"

[connection signal="area_entered" from="Hit Detector" to="." method="_on_hit_detector_area_entered"]
[connection signal="timeout" from="Flash" to="." method="_on_flash_timeout"]
[connection signal="timeout" from="Dive Wait" to="." method="_on_dive_wait_timeout"]
